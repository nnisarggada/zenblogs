---
import Base from "@layouts/Base.astro";
---

<Base title="Register - ZenBlogs">
  <div class="h-full w-full bg-purple-300 text-black">
    <div
      class="mx-auto flex min-h-screen w-full max-w-lg items-center justify-center p-6"
    >
      <form
        id="register-form"
        class="flex w-full max-w-md flex-col items-center justify-center gap-6 rounded-lg bg-white p-8 shadow-lg"
      >
        <h1 class="text-center text-3xl font-semibold text-gray-800">
          Register for ZenBlogs
        </h1>

        <div class="flex w-full flex-col gap-2">
          <label for="name" class="hidden text-sm font-medium text-gray-700"
            >Name</label
          >
          <input
            type="text"
            name="name"
            id="name"
            placeholder="Full Name"
            required
            class="w-full rounded-md border border-gray-300 p-3 shadow-sm focus:border-purple-500 focus:outline-none focus:ring focus:ring-purple-200"
          />
        </div>

        <div class="flex w-full flex-col gap-2">
          <label for="email" class="hidden text-sm font-medium text-gray-700"
            >Email</label
          >
          <input
            type="email"
            name="email"
            id="email"
            placeholder="Email"
            required
            class="w-full rounded-md border border-gray-300 p-3 shadow-sm focus:border-purple-500 focus:outline-none focus:ring focus:ring-purple-200"
          />
        </div>

        <div class="flex w-full flex-col gap-2">
          <label for="password" class="hidden text-sm font-medium text-gray-700"
            >Password</label
          >
          <input
            type="password"
            name="password"
            id="password"
            placeholder="Password"
            required
            class="w-full rounded-md border border-gray-300 p-3 shadow-sm focus:border-purple-500 focus:outline-none focus:ring focus:ring-purple-200"
          />
        </div>

        <p>
          Already have an account? <a
            href="/login"
            class="text-purple-500 underline transition duration-300 ease-in-out hover:text-purple-600"
            >Login.</a
          >
        </p>

        <button
          type="submit"
          class="w-full rounded-md bg-purple-700 p-3 text-xl font-black uppercase text-white transition duration-300 ease-in-out hover:bg-purple-600"
        >
          Register
        </button>
      </form>
    </div>
  </div>
</Base>

<script>
  const registerForm = document.getElementById(
    "register-form",
  ) as HTMLFormElement;

  registerForm.addEventListener("submit", async (event) => {
    event.preventDefault();

    const form = new FormData(registerForm);

    const name = form.get("name") as string;
    const email = form.get("email") as string;
    const password = form.get("password") as string;

    // Simulate successful registration
    if (name && email && password) {
      sessionStorage.setItem("user", name);
      window.location.href = "/";
    } else {
      alert("All fields are required");
    }
  });
</script>
